{
    "sourceFile": "lib/provider/category_provider.dart",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1667569434856,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1667569434856,
            "name": "Commit-0",
            "content": "import 'package:ainsighter/data/model/response/base/api_response.dart';\nimport 'package:ainsighter/data/model/response/category_model.dart';\nimport 'package:ainsighter/data/repository/category_repo.dart';\nimport 'package:ainsighter/helper/api_checker.dart';\nimport 'package:flutter/material.dart';\nimport 'package:selectify/selectify.dart';\n\nclass CategoryProvider extends ChangeNotifier {\n  final CategoryRepo categoryRepo;\n\n  CategoryProvider({@required this.categoryRepo});\n\n  int _categorySelectedIndex = 0;\n  int _filterIndex = -1;\n  int _filterType = 0;\n\n  int get categorySelectedIndex => _categorySelectedIndex;\n\n  int get filterIndex => _filterIndex;\n  int get filterType => _filterType;\n\n  List<CategoryModel> _categoryList;\n  List<CategoryModel> _subCategoryList = [];\n  CategoryModel _categoryModel;\n\n  List<CategoryModel> get categoryList => _categoryList;\n  List<CategoryModel> get subCategoryList => _subCategoryList;\n  CategoryModel get categoryModel => _categoryModel;\n\n  Future<bool> getCategoryList(BuildContext context) async {\n    ApiResponse apiResponse = await categoryRepo.getCategoryList();\n    bool isSuccess;\n    if (apiResponse.response != null &&\n        apiResponse.response.statusCode == 200) {\n      _categoryList = [];\n      apiResponse.response.data.forEach(\n          (category) => _categoryList.add(CategoryModel.fromJson(category)));\n      isSuccess = true;\n      notifyListeners();\n    } else {\n      isSuccess = false;\n      print(apiResponse.error);\n      ScaffoldMessenger.of(context).showSnackBar(SnackBar(\n          content: Text(apiResponse.error.toString()),\n          backgroundColor: Colors.red));\n    }\n    return isSuccess;\n  }\n\n  Future<List<S2Choice<int>>> getCategoryDropdown(BuildContext context) async {\n    ApiResponse apiResponse = await categoryRepo.getCategoryList();\n    return S2Choice.listFrom<int, dynamic>(\n      source: apiResponse.response.data,\n      value: (index, item) => item['id'],\n      title: (index, item) => item['title'],\n      meta: (index, item) => item,\n    );\n  }\n\n  void getSubCategoryList(BuildContext context, String categoryID) async {\n    _subCategoryList = null;\n\n    ApiResponse apiResponse = await categoryRepo.getSubCategoryList(categoryID);\n    if (apiResponse.response != null &&\n        apiResponse.response.statusCode == 200) {\n      _subCategoryList = [];\n      apiResponse.response.data.forEach(\n          (category) => _subCategoryList.add(CategoryModel.fromJson(category)));\n      getCategoryProductList(context, categoryID);\n    } else {\n      ApiChecker.checkApi(context, apiResponse);\n    }\n    notifyListeners();\n  }\n\n  void getCategoryProductList(BuildContext context, String categoryID) async {\n    ApiResponse apiResponse =\n        await categoryRepo.getCategoryProductList(categoryID);\n    if (apiResponse.response != null &&\n        apiResponse.response.statusCode == 200) {\n    } else {\n      ApiChecker.checkApi(context, apiResponse);\n    }\n    notifyListeners();\n  }\n\n  int _selectCategory = -1;\n\n  int get selectCategory => _selectCategory;\n\n  updateSelectCategory(int index) {\n    _selectCategory = index;\n    notifyListeners();\n  }\n\n  void changeSelectedIndex(int selectedIndex, {bool notify = true}) {\n    _categorySelectedIndex = selectedIndex;\n    if (notify) {\n      notifyListeners();\n    }\n  }\n\n  void setFilterIndex(int selectedIndex) {\n    _filterIndex = selectedIndex;\n  }\n\n  void setFilterType() {\n    if (_filterType == 0)\n      _filterType = 1;\n    else\n      _filterType = 0;\n\n    _filterIndex = -1;\n\n    notifyListeners();\n  }\n}\n"
        }
    ]
}