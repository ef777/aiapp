{
    "sourceFile": "lib/view/screens/forgot_password/forgot_password_screen.dart",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1667569434793,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1667569434793,
            "name": "Commit-0",
            "content": "import 'package:flutter/material.dart';\nimport 'package:ainsighter/helper/email_checker.dart';\nimport 'package:ainsighter/helper/responsive_helper.dart';\nimport 'package:ainsighter/helper/route_helper.dart';\nimport 'package:ainsighter/localization/language_constrants.dart';\nimport 'package:ainsighter/provider/auth_provider.dart';\nimport 'package:ainsighter/utill/color_resources.dart';\nimport 'package:ainsighter/utill/dimensions.dart';\nimport 'package:ainsighter/utill/images.dart';\nimport 'package:ainsighter/utill/styles.dart';\nimport 'package:ainsighter/view/base/custom_app_bar.dart';\nimport 'package:ainsighter/view/base/custom_button.dart';\nimport 'package:ainsighter/view/base/custom_secondary_button.dart';\nimport 'package:ainsighter/view/base/custom_snackbar.dart';\nimport 'package:ainsighter/view/base/custom_text_field.dart';\nimport 'package:ainsighter/view/base/main_app_bar.dart';\nimport 'package:ainsighter/view/screens/forgot_password/verification_screen.dart';\nimport 'package:flutter_svg/svg.dart';\nimport 'package:provider/provider.dart';\nimport 'package:ainsighter/utill/config.dart';\n\nclass ForgotPasswordScreen extends StatefulWidget {\n  @override\n  _ForgotPasswordScreenState createState() => _ForgotPasswordScreenState();\n}\n\nclass _ForgotPasswordScreenState extends State<ForgotPasswordScreen> {\n  TextEditingController _emailController = TextEditingController();\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      // appBar: ResponsiveHelper.isDesktop(context)? MainAppBar(): CustomAppBar(title: getTranslated('forgot_password', context)),\n      body: Column(\n        children: [\n          _buildHeaderDraw(context),\n          Expanded(\n            child: SingleChildScrollView(\n              physics: BouncingScrollPhysics(),\n              child: Center(\n                child: SizedBox(\n                  width: 1170,\n                  child: Consumer<AuthProvider>(\n                    builder: (context, auth, child) {\n                      return Column(\n                        children: [\n                          // SizedBox(height: 55),\n                          // Image.asset(Images.close_lock, width: 142, height: 142, color: Theme.of(context).primaryColor),\n                          // SizedBox(height: 40),\n                          // Center(\n                          //     child: Text(\n                          //   getTranslated('please_enter_your_number_to', context),\n                          //   textAlign: TextAlign.center,\n                          //   style: poppinsRegular.copyWith(color: ColorResources.getHintColor(context)),\n                          // )),\n                          Padding(\n                            padding: const EdgeInsets.all(\n                                Dimensions.PADDING_SIZE_LARGE),\n                            child: Column(\n                              crossAxisAlignment: CrossAxisAlignment.start,\n                              children: [\n                                SizedBox(height: 40),\n                                CustomTextField(\n                                  hintText:\n                                      getTranslated('demo_gmail', context),\n                                  labelText: 'E-mail',\n                                  isShowBorder: true,\n                                  prefixIconUrl: Icons.mail,\n                                  isShowPrefixIcon: true,\n                                  controller: _emailController,\n                                  inputType: TextInputType.emailAddress,\n                                  inputAction: TextInputAction.done,\n                                ),\n                                SizedBox(height: 24),\n                                CustomSecondaryButton(\n                                  text: getTranslated('send', context),\n                                  color: Config.PrimaryColor,\n                                  isLoading: auth.isForgotPasswordLoading,\n                                  onPress: () {\n                                    String _email =\n                                        _emailController.text.trim();\n                                    if (_email.isEmpty) {\n                                      showCustomSnackBar(\n                                          getTranslated(\n                                              'enter_email_address', context),\n                                          context);\n                                    } else if (EmailChecker.isNotValid(\n                                        _email)) {\n                                      showCustomSnackBar(\n                                          getTranslated(\n                                              'enter_valid_email', context),\n                                          context);\n                                    } else {\n                                      Provider.of<AuthProvider>(context,\n                                              listen: false)\n                                          .forgetPassword(_email)\n                                          .then((value) {\n                                        if (value.isSuccess) {\n                                          Navigator.of(context).pushNamed(\n                                            RouteHelper.getVerifyRoute(\n                                                'forget-password', _email),\n                                            arguments: VerificationScreen(\n                                                emailAddress: _email),\n                                          );\n                                        } else {\n                                          showCustomSnackBar(\n                                              value.message, context);\n                                        }\n                                      });\n                                    }\n                                  },\n                                ),\n                              ],\n                            ),\n                          ),\n                        ],\n                      );\n                    },\n                  ),\n                ),\n              ),\n            ),\n          ),\n        ],\n      ),\n    );\n  }\n\n  Widget _buildHeaderDraw(BuildContext context) {\n    return Stack(\n      alignment: Alignment.topCenter,\n      children: [\n        Container(\n            height: MediaQuery.of(context).size.height * .22,\n            color: Color(0xffa0dbe6)),\n        SvgPicture.asset('assets/image/logo.svg',\n            width: MediaQuery.of(context).size.width * .43, fit: BoxFit.cover),\n        Positioned(\n          left: 30,\n          top: 56,\n          child: Container(\n            decoration: BoxDecoration(\n                shape: BoxShape.circle, color: Colors.black.withOpacity(.5)),\n            child: IconButton(\n              color: Colors.white,\n              icon: Icon(Icons.arrow_back_ios_rounded),\n              onPressed: () {\n                Navigator.of(context).pop();\n              },\n            ),\n          ),\n        )\n      ],\n    );\n  }\n}\n"
        }
    ]
}