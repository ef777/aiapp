{
    "sourceFile": "lib/view/screens/user/account.dart",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1667404690007,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1667404690007,
            "name": "Commit-0",
            "content": "import 'dart:ui';\r\n\r\nimport 'package:ainsighter/provider/auth_provider.dart';\r\nimport 'package:ainsighter/provider/splash_provider.dart';\r\nimport 'package:ainsighter/view/base/custom_app_bar.dart';\r\nimport 'package:ainsighter/view/screens/auth/login_screen.dart';\r\nimport 'package:ainsighter/view/screens/splash/splash_screen.dart';\r\nimport 'package:ainsighter/view/screens/user/profile.dart';\r\nimport 'package:ainsighter/view/screens/webview_screen.dart';\r\nimport 'package:flutter/material.dart';\r\nimport 'package:provider/provider.dart';\r\n\r\nclass AccountScreen extends StatefulWidget {\r\n  @override\r\n  _AccountScreenState createState() => _AccountScreenState();\r\n}\r\n\r\nclass _AccountScreenState extends State<AccountScreen> {\r\n  bool _notification = false;\r\n\r\n  @override\r\n  Widget build(BuildContext context) {\r\n    return Scaffold(\r\n        body: CustomScrollView(\r\n      slivers: [\r\n        SliverPersistentHeader(\r\n          pinned: true,\r\n          delegate: const MyHeaderDelegate(),\r\n        ),\r\n        SliverToBoxAdapter(\r\n          child: SingleChildScrollView(\r\n            physics: NeverScrollableScrollPhysics(),\r\n            padding: EdgeInsets.only(top: 15, bottom: 20),\r\n            child: Column(\r\n              crossAxisAlignment: CrossAxisAlignment.start,\r\n              children: [\r\n                Visibility(\r\n                  visible: Provider.of<AuthProvider>(context, listen: false)\r\n                      .isLoggedIn(),\r\n                  child: Container(\r\n                    margin: EdgeInsets.only(bottom: 15),\r\n                    padding: EdgeInsets.all(20),\r\n                    decoration: BoxDecoration(\r\n                        color: Theme.of(context).colorScheme.onPrimary),\r\n                    child: Column(\r\n                      crossAxisAlignment: CrossAxisAlignment.start,\r\n                      children: [\r\n                        Text(\r\n                          'Ayarlar',\r\n                          style: TextStyle(\r\n                              fontSize: 16,\r\n                              fontWeight: FontWeight.w700,\r\n                              letterSpacing: -0.7,\r\n                              wordSpacing: 1),\r\n                        ),\r\n                        SizedBox(height: 15),\r\n                        ListTile(\r\n                          contentPadding: EdgeInsets.all(0),\r\n                          leading: CircleAvatar(\r\n                            backgroundColor: Colors.blueGrey,\r\n                            radius: 18,\r\n                            child: Icon(\r\n                              Icons.person,\r\n                              size: 18,\r\n                              color: Colors.white,\r\n                            ),\r\n                          ),\r\n                          title: Text(\r\n                            'Hesap Ayarları',\r\n                            style: TextStyle(\r\n                                fontSize: 16,\r\n                                fontWeight: FontWeight.w500,\r\n                                color: Colors.grey.shade600),\r\n                          ),\r\n                          onTap: () {\r\n                            Navigator.of(context).push(MaterialPageRoute(\r\n                                builder: (_) => ProfileScreen()));\r\n                          },\r\n                        ),\r\n                        Divider(),\r\n                        ListTile(\r\n                          contentPadding: EdgeInsets.all(0),\r\n                          leading: CircleAvatar(\r\n                            backgroundColor: Theme.of(context).primaryColor,\r\n                            radius: 18,\r\n                            child: Icon(\r\n                              Icons.notification_important,\r\n                              size: 18,\r\n                              color: Colors.white,\r\n                            ),\r\n                          ),\r\n                          title: Text(\r\n                            'Bildirimleri Al',\r\n                            style: TextStyle(\r\n                                fontSize: 16,\r\n                                fontWeight: FontWeight.w500,\r\n                                color: Colors.grey.shade600),\r\n                          ),\r\n                          trailing: Switch(\r\n                              activeColor: Theme.of(context).primaryColor,\r\n                              value: _notification,\r\n                              onChanged: (bool value) {\r\n                                setState(() {\r\n                                  _notification = value;\r\n                                });\r\n                              }),\r\n                        ),\r\n                      ],\r\n                    ),\r\n                  ),\r\n                ),\r\n\r\n                Container(\r\n                  padding: EdgeInsets.all(20),\r\n                  decoration: BoxDecoration(\r\n                      color: Theme.of(context).colorScheme.onPrimary),\r\n                  child: Column(\r\n                    crossAxisAlignment: CrossAxisAlignment.start,\r\n                    children: [\r\n                      Text(\r\n                        'Uygulama Hakkında',\r\n                        style: TextStyle(\r\n                            fontSize: 16,\r\n                            fontWeight: FontWeight.w700,\r\n                            letterSpacing: -0.7,\r\n                            wordSpacing: 1),\r\n                      ),\r\n                      SizedBox(height: 15),\r\n                      ListTile(\r\n                          contentPadding: EdgeInsets.all(0),\r\n                          leading: CircleAvatar(\r\n                            backgroundColor: Colors.blueAccent,\r\n                            radius: 18,\r\n                            child: Icon(\r\n                              Icons.lock,\r\n                              size: 18,\r\n                              color: Colors.white,\r\n                            ),\r\n                          ),\r\n                          title: Text(\r\n                            'Gizlilik Politikası',\r\n                            style: TextStyle(\r\n                                fontSize: 16,\r\n                                fontWeight: FontWeight.w500,\r\n                                color: Colors.grey.shade600),\r\n                          ),\r\n                          trailing: Icon(Icons.chevron_right),\r\n                          onTap: () {\r\n                            Navigator.of(context).push(MaterialPageRoute(\r\n                                builder: (_) => WebViewScreen(\r\n                                      title: 'Gizlilik Politikası',\r\n                                      url:\r\n                                          'https://emlakcarsim.com/gizlilik-politikasi',\r\n                                    )));\r\n                          }),\r\n                      Divider(),\r\n                      ListTile(\r\n                        contentPadding: EdgeInsets.all(0),\r\n                        leading: CircleAvatar(\r\n                          backgroundColor: Colors.pinkAccent,\r\n                          radius: 18,\r\n                          child: Icon(\r\n                            Icons.star,\r\n                            size: 18,\r\n                            color: Colors.white,\r\n                          ),\r\n                        ),\r\n                        title: Text(\r\n                          'Uygulamayı Oyla',\r\n                          style: TextStyle(\r\n                              fontSize: 16,\r\n                              fontWeight: FontWeight.w500,\r\n                              color: Colors.grey.shade600),\r\n                        ),\r\n                        trailing: Icon(Icons.chevron_right),\r\n                        //onTap: () => AppService().launchAppReview(context),\r\n                      ),\r\n                      Divider(),\r\n                      Visibility(\r\n                        visible:\r\n                            Provider.of<AuthProvider>(context, listen: false)\r\n                                .isLoggedIn(),\r\n                        child: ListTile(\r\n                          contentPadding: EdgeInsets.all(0),\r\n                          onTap: () async {\r\n                            Provider.of<SplashProvider>(context, listen: false)\r\n                                .setPageIndex(0);\r\n                            await Provider.of<AuthProvider>(context,\r\n                                    listen: false)\r\n                                .clearSharedData();\r\n\r\n                            Navigator.of(context).pushAndRemoveUntil(\r\n                                MaterialPageRoute(\r\n                                    builder: (_) => SplashScreen()),\r\n                                (route) => false);\r\n                          },\r\n                          leading: CircleAvatar(\r\n                            backgroundColor: Colors.black54,\r\n                            radius: 18,\r\n                            child: Icon(\r\n                              Icons.logout,\r\n                              size: 18,\r\n                              color: Colors.white,\r\n                            ),\r\n                          ),\r\n                          title: Text(\r\n                            'Çıkış Yap',\r\n                            style: TextStyle(\r\n                                fontSize: 16,\r\n                                fontWeight: FontWeight.w500,\r\n                                color: Colors.grey.shade600),\r\n                          ),\r\n                          trailing: Icon(Icons.chevron_right),\r\n                          //onTap: () => AppService().launchAppReview(context),\r\n                        ),\r\n                      ),\r\n                      Visibility(\r\n                        visible:\r\n                            !Provider.of<AuthProvider>(context, listen: false)\r\n                                .isLoggedIn(),\r\n                        child: ListTile(\r\n                          contentPadding: EdgeInsets.all(0),\r\n                          onTap: () {\r\n                            Navigator.of(context).push(MaterialPageRoute(\r\n                                builder: (_) => LoginScreen()));\r\n                          },\r\n                          leading: CircleAvatar(\r\n                            backgroundColor: Colors.black54,\r\n                            radius: 18,\r\n                            child: Icon(\r\n                              Icons.login,\r\n                              size: 18,\r\n                              color: Colors.white,\r\n                            ),\r\n                          ),\r\n                          title: Text(\r\n                            'Giriş Yap',\r\n                            style: TextStyle(\r\n                                fontSize: 16,\r\n                                fontWeight: FontWeight.w500,\r\n                                color: Colors.grey.shade600),\r\n                          ),\r\n                          trailing: Icon(Icons.chevron_right),\r\n                          //onTap: () => AppService().launchAppReview(context),\r\n                        ),\r\n                      ),\r\n                    ],\r\n                  ),\r\n                ),\r\n                SizedBox(\r\n                  height: 15,\r\n                ),\r\n\r\n                //BuyNowWidget(),\r\n              ],\r\n            ),\r\n          ),\r\n        ),\r\n      ],\r\n    ));\r\n  }\r\n}\r\n\r\nclass MyHeaderDelegate extends SliverPersistentHeaderDelegate {\r\n  const MyHeaderDelegate();\r\n\r\n  @override\r\n  Widget build(\r\n    BuildContext context,\r\n    double shrinkOffset,\r\n    bool overlapsContent,\r\n  ) {\r\n    final progress = shrinkOffset / maxExtent;\r\n\r\n    return Material(\r\n      child: Stack(\r\n        fit: StackFit.expand,\r\n        children: [\r\n          AnimatedOpacity(\r\n            duration: const Duration(milliseconds: 150),\r\n            opacity: progress,\r\n            child: ColoredBox(\r\n              color: Theme.of(context).primaryColor,\r\n            ),\r\n          ),\r\n          AnimatedOpacity(\r\n            duration: const Duration(milliseconds: 150),\r\n            opacity: 1 - progress,\r\n            child: CustomPaint(\r\n              painter: CustomToolbarShape(\r\n                showBar: false,\r\n              ),\r\n            ),\r\n          ),\r\n          AnimatedContainer(\r\n            duration: const Duration(milliseconds: 100),\r\n            padding: EdgeInsets.lerp(\r\n              EdgeInsets.symmetric(horizontal: 16, vertical: 8),\r\n              EdgeInsets.only(bottom: 0),\r\n              progress,\r\n            ),\r\n            alignment: Alignment.lerp(\r\n              Alignment.bottomLeft,\r\n              Alignment.center,\r\n              progress,\r\n            ),\r\n            child: Text(\r\n              'Hesabım',\r\n              style: TextStyle.lerp(\r\n                Theme.of(context)\r\n                    .textTheme\r\n                    .headline5\r\n                    .copyWith(color: Colors.white),\r\n                Theme.of(context)\r\n                    .textTheme\r\n                    .headline6\r\n                    .copyWith(color: Colors.white),\r\n                progress,\r\n              ),\r\n            ),\r\n          ),\r\n          AppBar(\r\n            backgroundColor: Colors.transparent,\r\n            toolbarHeight: 70,\r\n            // leading: BackButton(),\r\n            // actions: [\r\n            //   IconButton(\r\n            //     icon: const Icon(Icons.search),\r\n            //     onPressed: () {},\r\n            //   ),\r\n            //   IconButton(\r\n            //     icon: const Icon(Icons.more_vert),\r\n            //     onPressed: () {},\r\n            //   ),\r\n            // ],\r\n            elevation: 0,\r\n          ),\r\n        ],\r\n      ),\r\n    );\r\n  }\r\n\r\n  @override\r\n  double get maxExtent => 150;\r\n\r\n  @override\r\n  double get minExtent => 70;\r\n\r\n  @override\r\n  bool shouldRebuild(covariant SliverPersistentHeaderDelegate oldDelegate) =>\r\n      true;\r\n}\r\n"
        }
    ]
}